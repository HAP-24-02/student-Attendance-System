<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Lecture</title>
    <link rel="stylesheet" href="{{url_for('static',filename='LectureAdd.css')}}">
</head>
<body>

<!-- Navigation Bar -->
<nav class="navbar">
    <div class="logo-container">
        <img src="{{ url_for('static', filename='images/logo.jpg') }}" alt="College Logo" class="logo">
        <span class="college-name">College Name</span>
    </div>
    <div class="nav-links">
        <a href="{{ url_for('teho') }}">Return to Dashboard</a>
    </div>
</nav>



<!-- Main Content -->
<div class="main-content">
    <div class="container">
        <h2>Add Lecture</h2>
        


        <form id="addLectureForm" action = "{{url_for('add_lecture')}}" method="post">

            <!-- <label for="lecid">ID:</label>
            <input type="text" id="lecid" name="lecid" required> -->

            <label for="subject">Subject:</label>
            <input type="text" id="subject" name="subject" required>

            <label for="lectureDate">Lecture Date:</label>
            <input type="date" id="lectureDate" name="lectureDate" required>

            <label for="year">Year:</label>
            <input type="number" id="year" name="year" required>

            <label for="branch">Branch:</label>
            <input type="text" id="branch" name="branch" required>

            <label for="division">DIVISION:</label>
            <input type="text" id="division" name="division" required>

            <label for="start_time">Start Time:</label>
            <input type="time" id="start_time" name="start_time" required pattern="[0-9]{2}:[0-9]{2}" title="Please enter a valid time (HH:mm)">
            
            <label for="duration">Duration (in hour):</label>
            <input type="number" id="duration" name="duration" required>

            <label for="hall_number">Hall Number:</label>
            <input type="number" id="hall_number" name="hall_number" required>

            <button type="submit">Add Lecture</button>
            
        </form>
    </div>
</div>

{% if request.method == 'POST' %}
    {% if success_message %}
    <script>
        // Display a pop-up alert for successful lecture addition
        alert("{{ success_message }}");
    </script>
    {% endif %}

    {% if error_message %}
    <script>
        // Display a pop-up alert for failed lecture addition
        alert("{{ error_message }}");
    </script>
    {% endif %}
{% endif %}


<script src="{{ url_for('static', filename='LectureAdd.js') }}"></script>

<!-- validation of empty details  -->
<script>
    document.getElementById('addLectureForm').addEventListener('submit', function(event) {
        // Get form fields
        var subject = document.getElementById('subject').value.trim();
        var lectureDate = document.getElementById('lectureDate').value.trim();
        var year = document.getElementById('year').value.trim();
        var branch = document.getElementById('branch').value.trim();
        var division = document.getElementById('division').value.trim();
        var startTime = document.getElementById('start_time').value.trim();
        var duration = document.getElementById('duration').value.trim();
        var hallNumber = document.getElementById('hall_number').value.trim();

        // Check if any field is empty
        if (!subject || !lectureDate || !year || !branch || !division || !startTime || !duration || !hallNumber) {
            alert("You can't add empty details.");
            event.preventDefault(); // Prevent form submission
        }
    });
</script>


</body>
</html>
